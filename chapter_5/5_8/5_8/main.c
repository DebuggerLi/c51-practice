#include <REG51.H>

#define uchar unsigned char
#define uint unsigned int

void delay(uint i) {
    uchar j;
    while (--i) {
        for (j = 0; j < 125; ++j);
    }
}

void main() {
    uchar code str[3][16][2] = { { { 0xFE,0xFF },{ 0xFE,0xFF },{ 0x80,0x03 },{ 0xFC,0x7F },
                                   { 0xFA,0xBF },{ 0xF6,0xDF },{ 0xCE,0xE7 },{ 0x3E,0xF9 },
                                   { 0xF0,0x1F },{ 0xFF,0xBF },{ 0xFF,0x7F },{ 0x00,0x01 },
                                   { 0xFE,0xFF },{ 0xFE,0xFF },{ 0xFA,0xFF },{ 0xFD,0xFF } },
                                 { { 0xDE,0xFB },{ 0xEF,0x7B },{ 0xEF,0x77 },{ 0x07,0xFF },
                                   { 0xF4,0x01 },{ 0xEF,0xDF },{ 0xEF,0xDF },{ 0xC6,0x03 },
                                   { 0xAB,0xDF },{ 0x6F,0xDF },{ 0xEC,0x01 },{ 0xEF,0xDF },
                                   { 0xEF,0xDF },{ 0xEF,0xDF },{ 0xEF,0xDF },{ 0xEF,0xDF } },
                                 { { 0xFB,0xDF },{ 0xFB,0xEF },{ 0xFB,0xEF },{ 0xFB,0xFF },
                                   { 0x00,0x01 },{ 0xFB,0x7F },{ 0xFB,0x77 },{ 0xFB,0x77 },
                                   { 0xFB,0x6F },{ 0xF7,0x5F },{ 0xF7,0x3F },{ 0xEF,0x7D },
                                   { 0xEE,0x7D },{ 0xDD,0x7D },{ 0xBB,0x81 },{ 0x7F,0xFF } } };
    uchar chr, time, row;
    while (1) {
        for (chr = 0; chr < 3; ++chr)
            for (time = 0; time < 5; ++time)
                for (row = 0; row < 16; ++row) {
                    P1 = row;
                    P0 = ~str[chr][row][1];
                    P2 = ~str[chr][row][0];
                    delay(100);
                }
    }
}